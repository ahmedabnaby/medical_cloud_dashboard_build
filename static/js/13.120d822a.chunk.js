(this["webpackJsonpekseer-dashboard"]=this["webpackJsonpekseer-dashboard"]||[]).push([[13],{365:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(82),c=n.n(a),r=n(107),i=n(13),o=n(0),s=n(311),l=n(234),d=n(174),j=n(235),u=n(236),h=n(325),b=n(56),p=n(423),f=n(128),m=n(298),x=n(1),O=function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=(n[0],n[1],function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)({method:"DELETE",url:"".concat("https://backend-test.alsahaba.sa/api","/user/").concat(null===e||void 0===e?void 0:e.patient.id,"/delete")}).then((function(e){window.location.reload()})).catch((function(e){alert("An error occured!")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(p.a,{children:Object(x.jsx)(s.a,{container:!0,spacing:b.b,children:Object(x.jsx)(s.a,{item:!0,xs:12,children:Object(x.jsxs)(l.a,{className:"popup-container",children:[Object(x.jsx)(d.a,{title:"Consultation"}),Object(x.jsx)(j.a,{}),Object(x.jsxs)(u.a,{className:"popup-body",style:{top:"250px",overflowY:"auto",height:"75vh"},children:[Object(x.jsx)(h.a,{id:"closeBtn",onClick:null===e||void 0===e?void 0:e.handleClose,children:"X"}),Object(x.jsx)(s.a,{container:!0,spacing:b.b,children:Object(x.jsx)(s.a,{item:!0,xs:12,sm:6,children:Object(x.jsxs)(f.a,{title:null===e||void 0===e?void 0:e.patient.full_name,children:[Object(x.jsxs)("h2",{children:["Are you sure you want to delete this ",(null===e||void 0===e?void 0:e.patient.is_doctor)?"doctor?":"patient?"]}),Object(x.jsx)(h.a,{style:{color:"red"},onClick:a,children:"Yes"}),Object(x.jsx)(h.a,{style:{color:"green"},onClick:null===e||void 0===e?void 0:e.handleClose,children:"No"})]})})})]})]})})})})})}},383:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(82),c=n.n(a),r=n(107),i=n(13),o=n(0),s=n(311),l=n(234),d=n(174),j=n(235),u=n(236),h=n(325),b=n(56),p=n(423),f=n(557),m=n(128),x=n(298),O=n(1),v=function(e){return Object(o.useEffect)((function(){document.getElementById("image-viewer2").style.display="block"}),[]),Object(O.jsx)(p.a,{id:"image-viewer2",children:Object(O.jsx)(s.a,{container:!0,spacing:b.b,children:Object(O.jsx)(s.a,{item:!0,xs:12,children:Object(O.jsxs)(l.a,{className:"popup-container",children:[Object(O.jsx)(d.a,{title:"Consultation"}),Object(O.jsx)(j.a,{}),Object(O.jsxs)(u.a,{className:"popup-body",style:{top:"250px",overflowY:"auto",height:"75vh"},children:[Object(O.jsx)(h.a,{id:"closeBtn",onClick:function(){null===e||void 0===e||e.handleCloseShowSelectedConsultation()},children:"X"}),Object(O.jsx)(s.a,{container:!0,spacing:b.b,children:Object(O.jsx)(s.a,{item:!0,xs:12,sm:6,children:Object(O.jsxs)(m.a,{title:"Consultation",children:[Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Chief Complaint:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.chief_complaint})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"History of Illness:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.history_of_illness})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Review of systems:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.review_of_systems})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Examinations:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.examination})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Assessments/Plans:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.assessment})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Medication:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.medication})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Order labs / Home Medication / Image / Others::"}),Object(O.jsx)("strong",{children:(null===e||void 0===e?void 0:e.consultation.order_labs)?null===e||void 0===e?void 0:e.consultation.order_labs:"none"})]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Order labs / Home Medication / Image / Others: uploads:"}),(null===e||void 0===e?void 0:e.consultation.upload_order_labs)?Object(O.jsx)("a",{href:null===e||void 0===e?void 0:e.consultation.upload_order_labs,children:"View file/image"}):"none"]}),Object(O.jsxs)("div",{className:"mt-4",children:[Object(O.jsx)("h5",{children:"Sick leave:"}),Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.consultation.sick_leave})]}),Object(O.jsxs)("div",{className:"mt-4 mb-4",children:[Object(O.jsx)("h5",{children:"Created At:"}),Object(O.jsx)("strong",{children:function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(i.a)(t,5),a=n[0],c=n[1],r=n[2],o=n[3],s=n[4],l=a.toUpperCase();return"".concat(c," ").concat(l," ").concat(r," ").concat(o," ").concat(s)}(null===e||void 0===e?void 0:e.consultation.created_at)})]})]})})})]})]})})})})},g=function(e){var t="https://backend-test.alsahaba.sa/api",n=Object(o.useState)([]),a=Object(i.a)(n,2),g=a[0],_=a[1],y=Object(o.useState)([]),w=Object(i.a)(y,2),C=w[0],k=w[1],S=Object(o.useState)(null),N=Object(i.a)(S,2),D=N[0],E=N[1],B=Object(o.useState)(!1),I=Object(i.a)(B,2),F=I[0],R=I[1],U=Object(o.useState)(!1),A=Object(i.a)(U,2),L=A[0],P=A[1],q=Object(o.useState)(!1),V=Object(i.a)(q,2),H=(V[0],V[1]),T=function(){var n=Object(r.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return H(!0),n.next=3,x.a.get("".concat(t,"/consultations/")).then((function(t){var n;_(t.data),H(!1);var a=0;if(!1===(null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n.is_doctor))for(;a<t.data.length;){if(t.data[a].patient_id===(null===e||void 0===e?void 0:e.patient.id)){R(!0);break}R(!1),a++}else for(;a<t.data.length;){if(t.data[a].doctor_id===(null===e||void 0===e?void 0:e.patient.id)){R(!0);break}R(!1),a++}}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(t,"/users/")).then((function(e){k(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(i.a)(t,5),a=n[0],c=n[1],r=n[2],o=n[3],s=n[4],l=a.toUpperCase();return"".concat(c," ").concat(l," ").concat(r," ").concat(o," ").concat(s)};return Object(o.useEffect)((function(){document.getElementById("image-viewer").style.display="block",T(),Y()}),[]),Object(O.jsxs)(O.Fragment,{children:[L&&Object(O.jsx)(v,{consultation:D,handleCloseShowSelectedConsultation:function(){P(!1)}}),Object(O.jsx)(p.a,{id:"image-viewer",onClick:function(){document.getElementById("image-viewer").style.display="none"},children:Object(O.jsx)(s.a,{container:!0,spacing:b.b,children:Object(O.jsx)(s.a,{item:!0,xs:12,children:Object(O.jsxs)(l.a,{className:"popup-container",children:[Object(O.jsx)(d.a,{title:"Consultation"}),Object(O.jsx)(j.a,{}),Object(O.jsxs)(u.a,{className:"popup-body",style:{top:"250px",overflowY:"auto",height:"75vh"},children:[Object(O.jsx)(h.a,{id:"closeBtn",onClick:null===e||void 0===e?void 0:e.handleCloseConsultations,children:"X"}),Object(O.jsx)(s.a,{container:!0,spacing:b.b,children:Object(O.jsx)(s.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(m.a,{title:null===e||void 0===e?void 0:e.patient.full_name,children:F?Object(O.jsx)(O.Fragment,{children:g&&(null===g||void 0===g?void 0:g.filter((function(t){var n,a,c;return(null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n.is_doctor)?t.doctor_id===(null===e||void 0===e||null===(a=e.patient)||void 0===a?void 0:a.id):t.patient_id===(null===e||void 0===e||null===(c=e.patient)||void 0===c?void 0:c.id)})).map((function(t,n){return Object(O.jsx)(f.a,{as:"ol",className:"borderBottom",children:null===C||void 0===C?void 0:C.filter((function(n){var a;return(null===e||void 0===e||null===(a=e.patient)||void 0===a?void 0:a.is_doctor)?t.patient_id===n.id:t.doctor_id===n.id})).map((function(a){var c;return Object(O.jsxs)(f.a.Item,{as:"li",className:"d-flex justify-content-between align-items-center",style:{cursor:"pointer",marginLeft:"-25px"},onClick:function(){return E(t),void P(!0)},children:[n+1,".",Object(O.jsxs)("div",{className:"ms-2 me-auto",children:[Object(O.jsx)("div",{className:"fw-bold",children:t.chief_complaint}),Object(O.jsx)("strong",{style:{color:"gray"},children:(null===e||void 0===e||null===(c=e.patient)||void 0===c?void 0:c.is_doctor)?Object(O.jsxs)("p",{children:[" ","Patient ID/Iqama: \xa0",a.iqama_number]}):Object(O.jsxs)("p",{children:[" ","Dr. ID/Iqama: \xa0",a.iqama_number]})}),Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:a.full_name})]}),Object(O.jsx)("strong",{children:M(t.created_at)})]},a.id)}))},t.id)})))}):Object(O.jsx)("h5",{className:"ml-4",children:"No consultations yet!"})})})})]})]})})})})]})}},548:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return U}));var a=n(3),c=n(14),r=n(82),i=n.n(r),o=n(107),s=n(13),l=n(0),d=n.n(l),j=n(240),u=n(311),h=n(234),b=n(174),p=n(314),f=n(382),m=n(235),x=n(236),O=n(325),v=n(56),g=n(414),_=n(418),y=n(417),w=n(413),C=n(415),k=n(416),S=n(17),N=n(298),D=n(173),E=n(128),B=n(365),I=n(383),F=n(1),R=Object(j.a)({table:{minWidth:350},searchControl:{width:"100%",paddingRight:"8px",paddingLeft:"16px",marginBottom:"16px",marginTop:"16px"}});function U(){var e=R(),t="https://backend-test.alsahaba.sa/api",n=d.a.useState([]),r=Object(s.a)(n,2),j=r[0],x=r[1],O=d.a.useState([]),D=Object(s.a)(O,2),E=D[0],I=D[1],U=d.a.useState(""),L=Object(s.a)(U,2),P=L[0],q=L[1],V=d.a.useState(!1),H=Object(s.a)(V,2),T=H[0],Y=H[1],M=d.a.useState(!1),W=Object(s.a)(M,2),X=W[0],J=W[1],z=d.a.useState({}),G=Object(s.a)(z,2),K=G[0],Q=G[1],Z=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(t,"/users/")).then((function(e){x(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(t,"/search?query=").concat(P)).then((function(e){x(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(s.a)(t,5),a=n[0],c=n[1],r=n[2],i=n[3],o=n[4],l=a.toUpperCase();return"".concat(c," ").concat(l," ").concat(r," ").concat(i," ").concat(o)};return Object(l.useEffect)((function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=new Image).onload=function(){Q((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},t.id,Object(c.a)(Object(c.a)({},e[t.id]),{},Object(a.a)({},n,"image"))))}))},r.onerror=function(){Q((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},t.id,Object(c.a)(Object(c.a)({},e[t.id]),{},Object(a.a)({},n,"non-image"))))}))},r.src=t[n]}catch(i){console.error("Error checking file type for doctor ".concat(t.id,", field ").concat(n,":"),i)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();null===j||void 0===j||j.filter((function(e){return e.is_doctor})).forEach((function(t){["copy_of_scfhs_registration_card","cv","personal_photo"].forEach((function(n){K[t.id]&&K[t.id][n]||e(t,n)}))}))}),[j]),Object(l.useEffect)((function(){Z()}),[]),Object(F.jsxs)(d.a.Fragment,{children:[X&&Object(F.jsx)(B.a,{patient:E,handleClose:function(){J(!1)}}),T&&Object(F.jsx)(A,{doctor:E,handleClose:function(){Y(!1)}}),Object(F.jsx)(u.a,{container:!0,spacing:v.b,children:Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)(h.a,{children:[Object(F.jsxs)(u.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(F.jsx)(u.a,{item:!0,children:Object(F.jsx)(b.a,{title:"Registered Doctors"})}),Object(F.jsx)(u.a,{item:!0,style:{marginRight:"25px"},children:Object(F.jsx)(p.a,{className:e.searchControl,id:"input-search-profile",value:P,onChange:function(e){""===e.target.value?(q(e.target.value),Z()):(q(e.target.value),$())},placeholder:"Search doctors",startAdornment:Object(F.jsx)(f.a,{position:"start",children:Object(F.jsx)(S.V,{stroke:1.5,size:"1.3rem",className:e.startAdornment})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0})})]}),Object(F.jsx)(m.a,{}),Object(F.jsx)(w.a,{children:Object(F.jsxs)(g.a,{className:e.table,"aria-label":"simple table",children:[Object(F.jsx)(C.a,{children:Object(F.jsxs)(k.a,{children:[Object(F.jsx)(y.a,{children:"#"}),Object(F.jsx)(y.a,{children:"Doctor name"}),Object(F.jsx)(y.a,{align:"left",children:"ID/Iqama number"}),Object(F.jsx)(y.a,{align:"left",style:{whiteSpace:"nowrap"},children:"Date of birth"}),Object(F.jsx)(y.a,{align:"left",children:"Mobile number"}),Object(F.jsx)(y.a,{align:"left",children:"E-mail"}),Object(F.jsx)(y.a,{align:"left",children:"Nationality"}),Object(F.jsx)(y.a,{align:"left",children:"SCFHS Registration"}),Object(F.jsx)(y.a,{align:"left",children:"Copy of scfhs registration card"}),Object(F.jsx)(y.a,{align:"left",children:"Current Employer Name"}),Object(F.jsx)(y.a,{align:"left",children:"CV/Resume"}),Object(F.jsx)(y.a,{align:"left",children:"Personal photo"}),Object(F.jsx)(y.a,{align:"left",children:"Verifed"}),Object(F.jsx)(y.a,{align:"left",children:"Registered date"}),Object(F.jsx)(y.a,{align:"left",children:"Last login"}),Object(F.jsx)(y.a,{align:"left"}),Object(F.jsx)(y.a,{align:"left"})]})}),Object(F.jsx)(_.a,{children:j&&(null===j||void 0===j?void 0:j.filter((function(e){return e.is_doctor})).map((function(e,t){return Object(F.jsxs)(k.a,{children:[Object(F.jsx)(y.a,{align:"left",children:t+1}),Object(F.jsx)(y.a,{component:"th",children:e.full_name}),Object(F.jsx)(y.a,{align:"left",children:e.iqama_number}),Object(F.jsx)(y.a,{align:"left",children:e.date_of_birth}),Object(F.jsx)(y.a,{align:"left",children:e.mobile_number}),Object(F.jsx)(y.a,{align:"left",children:e.email}),Object(F.jsx)(y.a,{align:"left",children:e.nationality}),Object(F.jsx)(y.a,{align:"left",children:e.scfhs_registration}),Object(F.jsx)(y.a,{align:"left",children:K[e.id]&&K[e.id].copy_of_scfhs_registration_card&&(K[e.id].copy_of_scfhs_registration_card.startsWith("image")?Object(F.jsx)("a",{href:e.copy_of_scfhs_registration_card,target:"_blank",rel:"noopener noreferrer",children:"Image"}):Object(F.jsx)("a",{href:e.copy_of_scfhs_registration_card,target:"_blank",rel:"noopener noreferrer",children:"File"}))}),Object(F.jsx)(y.a,{align:"left",children:e.current_employer_name}),Object(F.jsx)(y.a,{align:"left",children:K[e.id]&&K[e.id].cv&&(K[e.id].cv.startsWith("image")?Object(F.jsx)("a",{href:e.cv,target:"_blank",rel:"noopener noreferrer",children:"Image"}):Object(F.jsx)("a",{href:e.cv,target:"_blank",rel:"noopener noreferrer",children:"File"}))}),Object(F.jsx)(y.a,{align:"left",children:K[e.id]&&K[e.id].personal_photo&&(K[e.id].personal_photo.startsWith("image")?Object(F.jsx)("a",{href:e.personal_photo,target:"_blank",rel:"noopener noreferrer",children:"Image"}):Object(F.jsx)("a",{href:e.personal_photo,target:"_blank",rel:"noopener noreferrer",children:"File"}))}),Object(F.jsx)(y.a,{align:"left",children:!1===e.is_verified?"No":"Yes"}),Object(F.jsx)(y.a,{align:"left",children:ee(e.created_at)}),Object(F.jsx)(y.a,{align:"left",children:null===e.last_login?"N/A":ee(e.last_login)}),Object(F.jsx)(y.a,{align:"left",onClick:function(){return function(e){Y(!0),I(e)}(e)},children:Object(F.jsx)("img",{src:"images/eye.png",id:"delete-icon"})}),Object(F.jsx)(y.a,{align:"left",onClick:function(){return t=e,J(!0),void I(t);var t},children:Object(F.jsx)("img",{src:"images/trash-bin.png",id:"delete-icon"})})]},e.id)})))})]})})]})})})]})}var A=function(e){var t,n,a,c="https://backend-test.alsahaba.sa/api",r=d.a.useState(null),j=Object(s.a)(r,2),p=j[0],f=j[1],g=d.a.useState(!1),_=Object(s.a)(g,2),y=_[0],w=_[1],C=d.a.useState(!1),k=Object(s.a)(C,2),S=k[0],B=k[1],R=d.a.useState([]),U=Object(s.a)(R,2),A=U[0],L=U[1],P=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("is_verified",!0),Object(N.a)({method:"put",url:"".concat(c,"/update-user/").concat(t,"/"),data:n,headers:{"Content-Type":"application/json"}}).then((function(e){window.location.reload(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.get("".concat(c,"/update-user/").concat(p,"/"));case 4:return n=e.sent,a=n.data,r=new FormData,void 0===t.target.contract.files[0]?r.append("contract",null):r.append("contract",t.target.contract.files[0]),r.append("is_verified",a.is_verified),e.next=11,N.a.put("".concat(c,"/update-user/").concat(p,"/"),r,{headers:{"Content-Type":"multipart/form-data"}});case 11:window.location.reload(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error submitting contract:",e.t0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.get("".concat(c,"/update-user/").concat(p,"/"));case 4:return n=e.sent,a=n.data,r=new FormData,void 0===t.target.no_objection_letter.files[0]?r.append("no_objection_letter",null):r.append("no_objection_letter",t.target.no_objection_letter.files[0]),r.append("is_verified",a.is_verified),e.next=11,N.a.put("".concat(c,"/update-user/").concat(p,"/"),r,{headers:{"Content-Type":"multipart/form-data"}});case 11:window.location.reload(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error submitting no_objection_letter:",e.t0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.get("".concat(c,"/update-user/").concat(p,"/"));case 4:return n=e.sent,a=n.data,r=new FormData,void 0===t.target.additional_attachment.files[0]?r.append("additional_attachment",null):r.append("additional_attachment",t.target.additional_attachment.files[0]),r.append("is_verified",a.is_verified),e.next=11,N.a.put("".concat(c,"/update-user/").concat(p,"/"),r,{headers:{"Content-Type":"multipart/form-data"}});case 11:window.location.reload(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error submitting additional_attachment:",e.t0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){var t=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,n){var a=new Image;a.onload=function(){e(!0)},a.onerror=function(){e(!1)},a.src=t})));case 4:return e.prev=4,e.t0=e.catch(0),console.error("Error checking file type:",e.t0),e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}();(function(){var n=Object(o.a)(i.a.mark((function n(){var a,c,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(e.doctor.copy_of_scfhs_registration_card);case 2:return a=n.sent,n.next=5,t(e.doctor.personal_photo);case 5:return c=n.sent,n.next=8,t(e.doctor.cv);case 8:r=n.sent,w({copyOfScfhsRegistrationCard:a,personalPhoto:c,cv:r});case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e.patient]);var T=function(e){document.getElementById("full-image").src=e,document.getElementById("image-viewer").style.display="block"},Y=function(){document.getElementById("image-viewer").style.display="none"};return Object(F.jsxs)(F.Fragment,{children:[S&&Object(F.jsx)(I.a,{patient:A,handleCloseConsultations:function(){B(!1)}}),Object(F.jsx)(u.a,{container:!0,spacing:v.b,children:Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)(h.a,{className:"popup-container",children:[Object(F.jsx)(b.a,{title:"Consultation"}),Object(F.jsx)(m.a,{}),Object(F.jsxs)(x.a,{className:"popup-body",id:"popupCustom",style:{top:"235px"},children:[Object(F.jsx)(O.a,{id:"closeBtn",onClick:function(){return e.handleClose()},children:"X"}),Object(F.jsx)(u.a,{container:!0,spacing:v.b,children:Object(F.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(E.a,{title:e.doctor.full_name,children:[Object(F.jsx)(O.a,{variant:"contained",color:"primary",disableElevation:!0,type:"submit",onClick:function(){return t=e.doctor,B(!0),void L(t);var t},children:"Show Consultations"}),Object(F.jsx)(u.a,{container:!0,direction:"column",id:"poppins",spacing:1,children:Object(F.jsxs)(u.a,{item:!0,children:[Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Doctor name: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.full_name})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["ID/Iqama number: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.iqama_number})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Date of birth: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.date_of_birth})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Mobile number: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.mobile_number})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["E-mail: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.email})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Nationality: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.nationality})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["SCFHS registration: \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.scfhs_registration})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Copy of SCFHS registration : \xa0",y.copyOfScfhsRegistrationCard?Object(F.jsx)("span",{id:"small-text",onClick:function(){return T(e.doctor.copy_of_scfhs_registration_card)},style:{cursor:"pointer",textDecoration:"underline",color:"blue"},children:"Image"}):Object(F.jsx)("a",{href:e.doctor.copy_of_scfhs_registration_card,target:"_blank",rel:"noopener noreferrer",children:"File"}),y.copyOfScfhsRegistrationCard&&Object(F.jsxs)("div",{id:"image-viewer",onClick:Y,children:[Object(F.jsx)("span",{className:"closed",children:"\xd7"}),Object(F.jsx)("img",{className:"modal-content",id:"full-image",alt:"Image"})]})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Current Employer Name : \xa0",Object(F.jsx)("span",{id:"small-text",children:e.doctor.current_employer_name})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["CV/Resume: \xa0",Object(F.jsx)("span",{id:"small-text",children:Object(F.jsx)("a",{href:e.doctor.cv,target:"_blank",children:"File"})})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Personal Photo: \xa0",y.personalPhoto?Object(F.jsx)("span",{id:"small-text",onClick:function(){return T(e.doctor.personal_photo)},style:{cursor:"pointer",textDecoration:"underline",color:"blue"},children:"Image"}):Object(F.jsx)("a",{href:e.doctor.personal_photo,target:"_blank",rel:"noopener noreferrer",children:"File"}),y.personalPhoto&&Object(F.jsxs)("div",{id:"image-viewer",onClick:Y,children:[Object(F.jsx)("span",{className:"closed",children:"\xd7"}),Object(F.jsx)("img",{className:"modal-content",id:"full-image",alt:"Image"})]})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Verifed: \xa0",Object(F.jsx)("span",{id:"small-text",children:!1===e.doctor.is_verified?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{children:"No "}),Object(F.jsx)(O.a,{type:"submit",variant:"contained",color:"success",disableElevation:!0,onClick:function(){return P(e.doctor.id)},children:"Verify!"})]}):"Yes"})]}),Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Last login: \xa0",Object(F.jsx)("span",{id:"small-text",children:null===e.doctor.last_login?"N/A":function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(s.a)(t,5),a=n[0],c=n[1],r=n[2],i=n[3],o=n[4],l=a.toUpperCase();return"".concat(c," ").concat(l," ").concat(r," ").concat(i," ").concat(o)}(e.doctor.last_login)})]}),Object(F.jsxs)("form",{onSubmit:q,children:[Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Contract: \xa0"," ",(null===e||void 0===e||null===(t=e.doctor)||void 0===t?void 0:t.contract)?Object(F.jsx)("a",{id:"small-text",href:e.doctor.contract,children:"Download doctor's contract."}):"",Object(F.jsx)("input",{type:"file",name:"contract",onClick:function(){return f(e.doctor.id)}})]}),Object(F.jsx)(O.a,{type:"submit",variant:"contained",color:"success",disableElevation:!0,children:"Upload!"})]}),Object(F.jsxs)("form",{onSubmit:V,children:[Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Non Objection Letter: \xa0"," ",(null===e||void 0===e||null===(n=e.doctor)||void 0===n?void 0:n.no_objection_letter)?Object(F.jsx)("a",{id:"small-text",href:e.doctor.no_objection_letter,children:"Download doctor's non objection letter."}):"",Object(F.jsx)("input",{type:"file",name:"no_objection_letter",onClick:function(){return f(e.doctor.id)}})]}),Object(F.jsx)(O.a,{type:"submit",variant:"contained",color:"success",disableElevation:!0,children:"Upload!"})]}),Object(F.jsxs)("form",{onSubmit:H,children:[Object(F.jsxs)(D.a,{variant:"h3",gutterBottom:!0,children:["Additional Attachment: \xa0",(null===e||void 0===e||null===(a=e.doctor)||void 0===a?void 0:a.additional_attachment)?Object(F.jsx)("a",{id:"small-text",href:e.doctor.additional_attachment,children:"Download doctor's additional attachment."}):"",Object(F.jsx)("input",{type:"file",name:"additional_attachment",onClick:function(){return f(e.doctor.id)}})]}),Object(F.jsx)(O.a,{type:"submit",variant:"contained",color:"success",disableElevation:!0,children:"Upload!"})]})]})})]})})})]})]})})})]})}}}]);
//# sourceMappingURL=13.120d822a.chunk.js.map