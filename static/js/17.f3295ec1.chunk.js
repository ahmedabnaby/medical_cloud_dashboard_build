(this["webpackJsonpekseer-dashboard"]=this["webpackJsonpekseer-dashboard"]||[]).push([[17],{558:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(0),c=a.n(r),i=a(311),o=a(56),s=a(82),l=a.n(s),d=a(107),p=a(14),u=a(3),j=a(240),b=a(234),m=a(236),h=a(173),x=a(298),O=a(1),g=Object(j.a)((function(e){return{card:{backgroundColor:e.palette.purple.main,color:"#fff",overflow:"hidden",position:"relative","&:after":Object(u.a)({content:'""',position:"absolute",width:"210px",height:"210px",backgroundColor:e.palette.purple.dark,borderRadius:"50%",top:"-85px",right:"-95px"},e.breakpoints.down("xs"),{top:"-105px",right:"-140px"}),"&:before":Object(u.a)({content:'""',position:"absolute",width:"210px",height:"210px",backgroundColor:e.palette.purple.dark,borderRadius:"50%",top:"-125px",right:"-15px",opacity:.7},e.breakpoints.down("xs"),{top:"-155px",right:"-70px"})},content:{padding:"20px !important"},avatar:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.purple.dark,marginTop:"8px"}),avatarRight:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.mediumAvatar),{},{backgroundColor:e.palette.purple.main,color:e.palette.purple[200],zIndex:1}),cardHeading:{fontSize:"2.125rem",fontWeight:500,marginRight:"8px",marginTop:"18px",marginBottom:"8px"},subHeading:{fontSize:"1.5rem",fontWeight:500,color:e.palette.purple[200]},avatarCricle:Object(p.a)(Object(p.a)({cursor:"pointer"},e.typography.smallAvatar),{},{backgroundColor:e.palette.purple[200],color:e.palette.purple.dark}),circleIcon:{transform:"rotate3d(1, 1, 1, 45deg)"},menuItem:{marginRight:"14px",fontSize:"1.25rem"}}})),f=function(){var e=g(),t=0,a=c.a.useState([]),o=Object(n.a)(a,2),s=o[0],p=o[1],u=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://backend-test.alsahaba.sa/api","/users/")).then((function(e){p(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()}),[]),Object(O.jsx)(b.a,{className:e.card,children:Object(O.jsx)(m.a,{className:e.content,children:Object(O.jsxs)(i.a,{container:!0,direction:"column",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(i.a,{container:!0,alignItems:"center",children:Object(O.jsxs)(i.a,{item:!0,children:[Object(O.jsx)("div",{style:{display:"none"},children:null===s||void 0===s?void 0:s.map((function(e){return!e.is_doctor&&t++}))}),Object(O.jsx)(h.a,{className:e.cardHeading,children:t})]})})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{className:e.subHeading,children:"Registered Patients"})})]})})})},v=Object(j.a)((function(e){return{card:{backgroundColor:e.palette.primary.main,color:"#fff",overflow:"hidden",position:"relative","&:after":Object(u.a)({content:'""',position:"absolute",width:"210px",height:"210px",backgroundColor:e.palette.primary.dark,borderRadius:"50%",top:"-85px",right:"-95px"},e.breakpoints.down("xs"),{top:"-105px",right:"-140px"}),"&:before":Object(u.a)({content:'""',position:"absolute",width:"210px",height:"210px",backgroundColor:e.palette.primary.dark,borderRadius:"50%",top:"-125px",right:"-15px",opacity:.7},e.breakpoints.down("xs"),{top:"-155px",right:"-70px"})},content:{padding:"20px !important"},avatar:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.primary.dark,color:"#fff",marginTop:"8px"}),avatarRight:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.mediumAvatar),{},{backgroundColor:e.palette.primary.main,color:e.palette.primary[200],zIndex:1}),cardHeading:{fontSize:"2.125rem",fontWeight:500,marginRight:"8px",marginTop:"18px",marginBottom:"8px"},subHeading:{fontSize:"1.5rem",fontWeight:500,color:e.palette.primary[200]},avatarCricle:Object(p.a)(Object(p.a)({},e.typography.smallAvatar),{},{cursor:"pointer",backgroundColor:e.palette.primary[200],color:e.palette.primary.dark}),circleIcon:{transform:"rotate3d(1, 1, 1, 45deg)"},menuItem:{marginRight:"14px",fontSize:"1.25rem"}}})),y=function(){var e=v(),t=0,a=c.a.useState(null),o=Object(n.a)(a,2),s=(o[0],o[1],c.a.useState([])),p=Object(n.a)(s,2),u=p[0],j=p[1],g=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://backend-test.alsahaba.sa/api","/users/")).then((function(e){j(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[]),Object(O.jsx)(b.a,{className:e.card,children:Object(O.jsx)(m.a,{className:e.content,children:Object(O.jsxs)(i.a,{container:!0,direction:"column",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(i.a,{container:!0,alignItems:"center",children:Object(O.jsxs)(i.a,{item:!0,children:[Object(O.jsx)("div",{style:{display:"none"},children:null===u||void 0===u?void 0:u.map((function(e){return e.is_doctor&&t++}))}),Object(O.jsx)(h.a,{className:e.cardHeading,children:t})]})})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{className:e.subHeading,children:"Registered Doctors"})})]})})})},k=a(26),C=a(299),w=a(564),N=a(419),_=a.n(N),S=a(19),A=a.n(S),R={height:480,type:"bar",options:{chart:{stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},colors:[A.a.deepPurple500,A.a.blue500,A.a.blue200,A.a.deepPurple50],responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1}},xaxis:{type:"string",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"],labels:{style:{colors:[]}}},yaxis:{labels:{style:{colors:[]}}},legend:{show:!0,fontSize:"14px",fontFamily:"'Roboto', sans-serif",position:"bottom",offsetX:10,labels:{colors:A.a.grey500,useSeriesColors:!1},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1},grid:{show:!0}},series:[{name:"Patients",data:[32,124,32,32,32,80,32]},{name:"Consultations",data:[32,15,15,32,64,38,78]}]},B=[{value:"month",label:"This Month"},{value:"year",label:"This Year"}],T=function(){var e=c.a.useState("month"),t=Object(n.a)(e,2),a=t[0],s=t[1],u=Object(k.a)(),j=0,g=0,f=Object(r.useState)([]),v=Object(n.a)(f,2),y=(v[0],v[1],Object(r.useState)([])),N=Object(n.a)(y,2),S=N[0],A=N[1],T=u.palette.secondary.main;R.options.grid.borderColor=u.palette.primary.light,R.options.yaxis.labels.style.colors=[u.palette.secondary.main],R.options.xaxis.labels.style.colors=[T,T,T,T,T,T,T];var z=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://backend-test.alsahaba.sa/api","/calls/")).then((function(e){A(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){z()}),[]),Object(O.jsx)(b.a,{children:Object(O.jsx)(m.a,{children:Object(O.jsxs)(i.a,{container:!0,spacing:o.b,children:[Object(O.jsx)(i.a,{item:!0,xs:12,children:Object(O.jsxs)(i.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(i.a,{container:!0,direction:"column",spacing:1,children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{variant:"subtitle2",children:"Requested Consultations"})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(h.a,{variant:"h3",children:[Object(O.jsx)("div",{style:{display:"none"},children:null===S||void 0===S?void 0:S.map((function(e){return e&&g++}))}),g]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{variant:"subtitle2",children:"Accepted Consultations"})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(h.a,{variant:"h3",children:[Object(O.jsx)("div",{style:{display:"none"},children:null===S||void 0===S?void 0:S.map((function(e){return!e.is_new&&j++}))}),j]})})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(C.a,{id:"standard-select-currency",select:!0,value:a,onChange:function(e){return s(e.target.value)},variant:"outlined",children:B.map((function(e){return Object(O.jsx)(w.a,{value:e.value,children:e.label},e.value)}))})})]})}),Object(O.jsx)(i.a,{item:!0,xs:12,children:Object(O.jsx)(_.a,Object(p.a)({},R))})]})})})},z=a(325),E=a(235),I=a(334),W=a(316),M=a(174),D=a(321),H=a(307),L=a(314),P=a(382),V=a(293),F=a(17),q=a(41),U=a(128),J=Object(j.a)((function(e){return{cardAction:{padding:"10px",paddingTop:0,justifyContent:"center"},primaryLight:{color:e.palette.primary[200],cursor:"pointer"},divider:{marginTop:"12px",marginBottom:"12px"},avatarSuccess:{width:"16px",height:"16px",borderRadius:"5px",backgroundColor:e.palette.success.light,color:e.palette.success.dark,marginLeft:"15px"},successDark:{color:e.palette.success.dark},avatarError:{width:"16px",height:"16px",borderRadius:"5px",backgroundColor:e.palette.orange.light,color:e.palette.orange.dark,marginLeft:"15px"},errorDark:{color:e.palette.orange.dark}}})),X=function(){var e=J(),t="https://backend-test.alsahaba.sa/api",a=Object(r.useState)([]),s=Object(n.a)(a,2),p=s[0],u=s[1],j=c.a.useState([]),g=Object(n.a)(j,2),f=g[0],v=g[1],y=c.a.useState(!1),k=Object(n.a)(y,2),C=k[0],w=k[1],N=c.a.useState(!1),_=Object(n.a)(N,2),S=_[0],A=_[1],R=c.a.useState([]),B=Object(n.a)(R,2),T=B[0],M=B[1],D=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(t,"/users/")).then((function(e){M(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(t,"/consultations/")).then((function(e){u(e.data.reverse())}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),a=Object(n.a)(t,5),r=a[0],c=a[1],i=a[2],o=a[3],s=a[4],l=r.toUpperCase();return"".concat(c," ").concat(l," ").concat(i," ").concat(o," ").concat(s)};return Object(r.useEffect)((function(){H(),D()}),[]),Object(O.jsxs)(b.a,{children:[C&&Object(O.jsx)(Y,{consultation:f,handleClose:function(){w(!1)}}),S&&Object(O.jsx)(K,{handleClose:function(){A(!1)}}),Object(O.jsx)(m.a,{children:Object(O.jsxs)(i.a,{container:!0,spacing:o.b,children:[Object(O.jsx)(i.a,{item:!0,xs:12,children:Object(O.jsxs)(i.a,{container:!0,alignContent:"center",justifyContent:"space-between",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{variant:"h4",children:"Recent Consultations"})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){A(!0)},children:"Create Consultation"})})]})}),Object(O.jsx)(i.a,{item:!0,xs:12,children:p.slice(0,5).map((function(t){return Object(O.jsxs)(i.a,{container:!0,direction:"column",className:"consultations",onClick:function(){return e=t,w(!0),void v(e);var e},children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(i.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{variant:"subtitle1",color:"inherit",children:t.chief_complaint})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(i.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(O.jsx)(i.a,{item:!0,children:T.map((function(e){return t.patient_id===e.id&&Object(O.jsxs)("div",{children:[Object(O.jsx)(h.a,{variant:"subtitle1",color:"primary",children:e.full_name}),Object(O.jsx)(h.a,{variant:"subtitle2",style:{color:"black"},children:L(t.created_at)})]},e.id)}))})})})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{variant:"subtitle2",color:"black",children:T.map((function(e){return t.doctor_id===e.id&&e.full_name}))})}),Object(O.jsx)(E.a,{className:e.divider})]},t.id)}))})]})}),Object(O.jsx)(I.a,{className:e.cardAction,children:Object(O.jsx)(W.a,{component:q.b,to:"/consultations",children:"View All"})})]})},Y=function(e){var t=c.a.useState([]),a=Object(n.a)(t,2),s=a[0],p=a[1],u=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://backend-test.alsahaba.sa/api","/users/")).then((function(e){p(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),a=Object(n.a)(t,5),r=a[0],c=a[1],i=a[2],o=a[3],s=a[4],l=r.toUpperCase();return"".concat(c," ").concat(l," ").concat(i," ").concat(o," ").concat(s)};return Object(r.useEffect)((function(){u()}),[]),Object(O.jsx)(i.a,{container:!0,spacing:o.b,children:Object(O.jsx)(i.a,{item:!0,xs:12,children:Object(O.jsxs)(b.a,{className:"popup-container",children:[console.log(e),Object(O.jsx)(M.a,{title:"Consultation"}),Object(O.jsx)(E.a,{}),Object(O.jsxs)(m.a,{className:"popup-body",children:[Object(O.jsx)(z.a,{id:"closeBtn",onClick:function(){return e.handleClose()},children:"X"}),Object(O.jsx)(i.a,{container:!0,spacing:o.b,children:Object(O.jsx)(i.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(U.a,{title:s.map((function(t){return e.consultation.patient_id==t.id?t.full_name+" Consultation":""})),children:Object(O.jsx)(i.a,{container:!0,direction:"column",id:"poppins",spacing:1,children:Object(O.jsxs)(i.a,{item:!0,children:[Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Doctor name: \xa0",Object(O.jsx)("span",{id:"small-text",children:s.map((function(t){return e.consultation.doctor_id==t.id?t.full_name:""}))})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Patient name: \xa0",Object(O.jsx)("span",{id:"small-text",children:s.map((function(t){return e.consultation.patient_id==t.id?t.full_name:""}))})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Date: \xa0",Object(O.jsx)("span",{id:"small-text",children:j(e.consultation.created_at)})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Chief Complaint: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.chief_complaint})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["History of illness: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.history_of_illness})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Review of systems: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.review_of_systems})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Examination: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.examination})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Assessment: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.assessment})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Order labs: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.order_labs})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Order labs result: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.upload_order_labs?Object(O.jsx)("a",{href:e.consultation.upload_order_labs,target:"_blank",children:"View result"}):"none"})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Sick leave: \xa0",Object(O.jsx)("span",{id:"small-text",children:e.consultation.sick_leave})]}),Object(O.jsxs)(h.a,{variant:"h3",gutterBottom:!0,children:["Last updated: \xa0",Object(O.jsx)("span",{id:"small-text",children:j(e.consultation.updated_at)})]})]})})})})})]})]})})})},G=Object(j.a)({table:{minWidth:350},searchControl:{width:"100%",paddingRight:"8px",paddingLeft:"16px",marginBottom:"16px",marginTop:"16px"}}),K=function(e){var t=G(),a="https://backend-test.alsahaba.sa/api",s=c.a.useState([]),p=Object(n.a)(s,2),u=p[0],j=p[1],h=c.a.useState(""),g=Object(n.a)(h,2),f=g[0],v=g[1],y=c.a.useState(!1),k=Object(n.a)(y,2),N=k[0],_=k[1],S=c.a.useState(!1),A=Object(n.a)(S,2),R=A[0],B=A[1],T=c.a.useState(""),I=Object(n.a)(T,2),W=I[0],q=I[1],J=c.a.useState(null),X=Object(n.a)(J,2),Y=X[0],K=X[1],Q=c.a.useState(null),Z=Object(n.a)(Q,2),$=Z[0],ee=Z[1],te=Object(r.useState)(!1),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],ce=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(a,"/users/")).then((function(e){j(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(e){var t=e.handleClose,a=Object(r.useRef)(null),n=function(){a.current&&(a.current.classList.add("closing"),a.current.classList.remove("closing"),t())};return Object(O.jsx)("div",{ref:a,className:"graphpop",children:Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{className:"logo-img",children:Object(O.jsx)("a",{href:"/",children:Object(O.jsx)("img",{src:"/images/double-check.gif",alt:""})})}),Object(O.jsxs)("h2",{children:[Object(O.jsx)("span",{style:{color:"#ba8abb"},children:"Consultation"})," saved ",Object(O.jsx)("span",{style:{color:"#24ab94"},children:"successfully!"})]}),Object(O.jsx)("div",{className:"cancel-btn",children:Object(O.jsx)("img",{src:"/images/cancel.png",id:"cancel-here",onClick:n})}),Object(O.jsx)("div",{style:{display:"none"},children:setTimeout((function(){n()}),2e3)})]})})},oe=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(a,"/search?query=").concat("patient"===t?f:W)).then((function(e){j(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log($),console.log(Y),(n=new FormData).append("doctor_id",$),n.append("patient_id",Y),n.append("chief_complaint",t.target.chief_complaint.value),n.append("history_of_illness",t.target.history_of_illness.value),n.append("review_of_systems",t.target.review_of_systems.value),n.append("examination",t.target.examination.value),n.append("assessment",t.target.assessment.value),void 0==t.target.medication?n.append("medication","No"):n.append("medication",t.target.medication.value),void 0===t.target.order_labs?n.append("order_labs","No"):n.append("order_labs",t.target.order_labs.value),void 0==t.target.sick_leave?n.append("sick_leave",0):n.append("sick_leave",t.target.sick_leave.value),e.next=16,Object(x.a)({method:"post",url:"".concat(a,"/create-consultation/"),data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){le(),console.log(e)})).catch((function(e){console.log(e)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){re(!0)};return Object(r.useEffect)((function(){ce()}),[]),Object(O.jsxs)(i.a,{container:!0,spacing:o.b,children:[Object(O.jsx)(i.a,{item:!0,xs:12,children:Object(O.jsxs)(b.a,{className:"popup-container",children:[Object(O.jsx)(M.a,{title:"Consultation"}),Object(O.jsx)(E.a,{}),Object(O.jsxs)(m.a,{className:"popup-body overflowY",id:"popupCustom",children:[Object(O.jsx)(z.a,{id:"closeBtn",onClick:function(){return e.handleClose()},children:"X"}),Object(O.jsx)(i.a,{container:!0,spacing:o.b,children:Object(O.jsx)(i.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(U.a,{title:"Create Consultation",children:Object(O.jsx)("form",{onSubmit:se,children:Object(O.jsxs)(i.a,{container:!0,direction:"column",id:"poppins",spacing:1,className:"overflowY",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-simple-select-label",children:"Doctor's Iqama Number:"}),Object(O.jsx)(L.a,{className:t.searchControl,id:"input-search-profile",name:"doctor_id",value:W,onChange:function(e){console.log(e.target.value),_(!0),""===e.target.value?(q(e.target.value),ce()):(q(e.target.value),oe("doctor"))},placeholder:"Search Doctors",startAdornment:Object(O.jsx)(P.a,{position:"start",children:Object(O.jsx)(F.V,{stroke:1.5,size:"1.3rem",className:t.startAdornment})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0}),W&&Object(O.jsx)(O.Fragment,{children:null===u||void 0===u?void 0:u.filter((function(e){return e.is_doctor})).map((function(e){return N&&Object(O.jsx)(w.a,{onClick:function(){return t=e.iqama_number,a=e.id,q(t),ee(a),void _(!1);var t,a},children:e.iqama_number},e.id)}))})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-simple-select-label",children:"Patient's Iqama Number:"}),Object(O.jsx)(L.a,{className:t.searchControl,id:"input-search-profile",value:f,onChange:function(e){B(!0),console.log(e.target.value),""===e.target.value?(v(e.target.value),ce()):(v(e.target.value),oe("patient"))},placeholder:"Search patients",startAdornment:Object(O.jsx)(P.a,{position:"start",children:Object(O.jsx)(F.V,{stroke:1.5,size:"1.3rem",className:t.startAdornment})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0}),f&&Object(O.jsx)(O.Fragment,{children:u.filter((function(e){return!(null===e||void 0===e?void 0:e.is_doctor)})).map((function(e,t){return R&&Object(O.jsx)(w.a,{value:e.id,name:"patient_id",onClick:function(){return t=e.iqama_number,a=e.id,v(t),K(a),void B(!1);var t,a},children:e.iqama_number},e.id)}))})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Chief Complaint:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"chief_complaint"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"History of illness:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"history_of_illness"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Review of systems:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"review_of_systems"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Examination:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"examination"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Assessment:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"assessment"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Medication:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"medication"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Order labs:"}),Object(O.jsx)(V.a,{className:"mt-2",defaultValue:"",name:"order_labs"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsxs)(D.a,{fullWidth:!0,className:"mt-5",children:[Object(O.jsx)(H.a,{id:"demo-textarea-select-label",children:"Sick Leave:"}),Object(O.jsx)(C.a,{className:"mt-2",defaultValue:"",type:"number",name:"sick_leave"})]})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(D.a,{className:"mt-5",children:Object(O.jsx)(z.a,{variant:"contained",color:"primary",disableElevation:!0,type:"submit",children:"Create Consultation"})})})]})})})})})]})]})}),ne&&Object(O.jsx)(ie,{handleClose:function(){re(!1)}})]})},Q=Object(j.a)((function(e){return{card:{backgroundColor:"#212af3",color:"#fff",overflow:"hidden",position:"relative","&:after":Object(u.a)({content:'""',position:"absolute",width:"210px",height:"210px",backgroundColor:e.palette.primary.dark,borderRadius:"50%",top:"-85px",right:"-95px"},e.breakpoints.down("xs"),{top:"-105px",right:"-140px"}),"&:before":Object(u.a)({content:'""',position:"absolute",width:"210px",height:"210px",backgroundColor:e.palette.primary.dark,borderRadius:"50%",top:"-125px",right:"-15px",opacity:.7},e.breakpoints.down("xs"),{top:"-155px",right:"-70px"})},content:{padding:"20px !important"},avatar:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.primary.dark,color:"#fff",marginTop:"8px"}),avatarRight:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.mediumAvatar),{},{backgroundColor:e.palette.primary.main,color:e.palette.primary[200],zIndex:1}),cardHeading:{fontSize:"2.125rem",fontWeight:500,marginRight:"8px",marginTop:"18px",marginBottom:"8px"},subHeading:{fontSize:"1.5rem",fontWeight:500,color:e.palette.primary[200]},avatarCricle:Object(p.a)(Object(p.a)({},e.typography.smallAvatar),{},{cursor:"pointer",backgroundColor:e.palette.primary[200],color:e.palette.primary.dark}),circleIcon:{transform:"rotate3d(1, 1, 1, 45deg)"},menuItem:{marginRight:"14px",fontSize:"1.25rem"}}})),Z=function(){var e=Q(),t=0,a=c.a.useState(null),o=Object(n.a)(a,2),s=(o[0],o[1],Object(r.useState)([])),p=Object(n.a)(s,2),u=p[0],j=p[1],g=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://backend-test.alsahaba.sa/api","/consultations/")).then((function(e){j(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[]),Object(O.jsx)(b.a,{className:e.card,children:Object(O.jsx)(m.a,{className:e.content,children:Object(O.jsxs)(i.a,{container:!0,direction:"column",children:[Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(i.a,{container:!0,alignItems:"center",children:Object(O.jsxs)(i.a,{item:!0,children:[Object(O.jsx)("div",{style:{display:"none"},children:null===u||void 0===u?void 0:u.map((function(e){return e&&t++}))}),Object(O.jsx)(h.a,{className:e.cardHeading,children:t})]})})}),Object(O.jsx)(i.a,{item:!0,children:Object(O.jsx)(h.a,{className:e.subHeading,children:"Total Consultations"})})]})})})},$=a(29),ee=a(327),te=a(250),ae=a(332),ne=a(310),re=a(329),ce=a(421),ie=a.n(ce),oe=Object(j.a)((function(e){return{card:{backgroundColor:e.palette.primary.dark,color:e.palette.primary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:"210px",height:"210px",background:"linear-gradient(210.04deg, #90CAF9 -50.94%, rgba(144, 202, 249, 0) 83.49%)",borderRadius:"50%",top:"-30px",right:"-180px"},"&:before":{content:'""',position:"absolute",width:"210px",height:"210px",background:"linear-gradient(140.9deg, #90CAF9 -14.02%, rgba(144, 202, 249, 0) 77.58%)",borderRadius:"50%",top:"-160px",right:"-130px"}},content:{padding:"5px !important",paddingLeft:"15px !important"},avatar:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.primary[800],color:"#fff"}),primary:{color:"#fff"},secondary:{color:e.palette.primary.light,marginTop:"5px"},padding:{paddingTop:0,paddingBottom:0}}})),se=function(e){var t=e.consultationCosts,a=oe();return Object(O.jsx)(b.a,{className:a.card,children:Object(O.jsx)(m.a,{className:a.content,children:Object(O.jsx)(ee.a,{className:a.padding,children:Object(O.jsxs)(te.b,{alignItems:"center",disableGutters:!0,className:a.padding,children:[Object(O.jsx)(ae.a,{children:Object(O.jsx)(ne.a,{variant:"rounded",className:a.avatar,children:Object(O.jsx)(ie.a,{fontSize:"inherit"})})}),Object(O.jsx)(re.a,{className:a.padding,primary:Object(O.jsxs)(h.a,{variant:"h4",className:a.primary,children:[t," SAR"]}),secondary:Object(O.jsx)(h.a,{variant:"subtitle2",className:a.secondary,children:"Amount"})})]})})})})},le=a(422),de=a.n(le),pe=Object(j.a)((function(e){return{content:{padding:"5px !important",paddingLeft:"15px !important",backgroundColor:"#333333",color:"white"},avatar:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.warning.light,color:e.palette.warning.dark}),secondary:{color:e.palette.grey[500],marginTop:"5px"},padding:{paddingTop:0,paddingBottom:0}}})),ue=function(){var e=pe();return Object(O.jsx)(b.a,{children:Object(O.jsx)(m.a,{className:e.content,children:Object(O.jsx)(ee.a,{className:e.padding,children:Object(O.jsxs)(te.b,{alignItems:"center",disableGutters:!0,className:e.padding,children:[Object(O.jsx)(ae.a,{children:Object(O.jsx)(ne.a,{variant:"rounded",className:e.avatar,children:Object(O.jsx)(de.a,{fontSize:"inherit"})})}),Object(O.jsx)(re.a,{className:e.padding,primary:Object(O.jsx)(h.a,{variant:"h4",style:{color:"white"},children:"Payments"}),secondary:Object(O.jsx)(h.a,{variant:"subtitle2",className:e.secondary,children:"View all"})})]})})})})},je=a(301),be=a(330),me=function(e){var t=e.isModalOpen,a=e.handleModalClose,c=e.onConsultationCostsChange,i=Object(r.useState)(""),o=Object(n.a)(i,2),s=o[0],p=o[1],u="https://backend-test.alsahaba.sa/api",j=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(u,"/payment-amount/"));case 3:(t=e.sent).data&&t.data.length>0?(a=t.data[t.data.length-1].amount,p(a.toString()),c(a.toString())):console.error("Unexpected response data:",t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching consultation price:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.a.post("".concat(u,"/payment-amount/"),{amount:s});case 4:return e.next=6,x.a.get("".concat(u,"/payment-amount/"));case 6:(a=e.sent).data&&a.data.length>0?(a.data[a.data.length-1].amount,window.location.reload()):console.error("Unexpected response data:",a.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error updating amount:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j()}),[t]),Object(O.jsx)(je.a,{open:t,onClose:a,"aria-labelledby":"total-income-pattern-modal-title","aria-describedby":"total-income-pattern-modal-description",children:Object(O.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"20px",outline:"none"},children:[Object(O.jsx)(h.a,{variant:"h5",id:"total-income-pattern-modal-title",gutterBottom:!0,children:"Price per consultation:"}),Object(O.jsxs)("form",{style:{textAlign:"center"},onSubmit:b,children:[Object(O.jsx)("div",{style:{marginBottom:"20px",padding:"5px"},children:Object(O.jsx)(be.a,{type:"number",id:"pricePerConsultation",name:"pricePerConsultation",placeholder:"Consultation costs",value:s,onChange:function(e){p(e.target.value)},style:{padding:"5px",border:"0.5px solid black",borderRadius:"10px",outline:"none"}})}),Object(O.jsx)(z.a,{variant:"contained",color:"primary",disableElevation:!0,type:"submit",children:"Update amount"})]})]})})},he=function(e){var t=e.isModalOpen,a=e.handleModalClose,c=e.onAdminMessageTitleChange,i=e.onAdminMessageChange,o=Object(r.useState)(""),s=Object(n.a)(o,2),p=s[0],u=s[1],j=Object(r.useState)(""),b=Object(n.a)(j,2),m=b[0],g=b[1],f="https://backend-test.alsahaba.sa/api",v=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(f,"/admin-message/"));case 3:(t=e.sent).data&&t.data.length>0?(a=t.data[0].message_title,n=t.data[0].message,u(a.toString()),g(n.toString()),c(a.toString()),i(n.toString())):console.error("Unexpected response data:",t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.a.put("".concat(f,"/update-admin-message/1/"),{message_title:p,message:m});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating amount:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[t]),Object(O.jsx)(je.a,{open:t,onClose:a,"aria-labelledby":"total-income-pattern-modal-title","aria-describedby":"total-income-pattern-modal-description",children:Object(O.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"20px",outline:"none"},children:[Object(O.jsx)(h.a,{variant:"h5",id:"total-income-pattern-modal-title",gutterBottom:!0,children:"Set admin title and message:"}),Object(O.jsxs)("form",{style:{textAlign:"center"},onSubmit:y,children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"25px",marginBottom:"20px",padding:"5px",width:"350px"},children:[Object(O.jsx)(be.a,{type:"text",id:"pricePerConsultation",name:"pricePerConsultation",placeholder:"Admin message title",value:p,onChange:function(e){u(e.target.value)}}),Object(O.jsx)(V.a,{placeholder:"Admin message",value:m,onChange:function(e){g(e.target.value)},style:{borderBottom:"2px solid #2196f3"}})]}),Object(O.jsx)(z.a,{variant:"contained",color:"success",disableElevation:!0,type:"submit",children:"Set admin message"})]})]})})},xe=Object(j.a)((function(e){return{card:{backgroundColor:e.palette.secondary.dark,color:e.palette.secondary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:"210px",height:"210px",background:"linear-gradient(210.04deg, #90CAF9 -50.94%, rgba(144, 202, 249, 0) 83.49%)",borderRadius:"50%",top:"-30px",right:"-180px"},"&:before":{content:'""',position:"absolute",width:"210px",height:"210px",background:"linear-gradient(140.9deg, #90CAF9 -14.02%, rgba(144, 202, 249, 0) 77.58%)",borderRadius:"50%",top:"-160px",right:"-130px"}},content:{padding:"5px !important",paddingLeft:"15px !important"},avatar:Object(p.a)(Object(p.a)(Object(p.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.primary[800],color:"#fff"}),primary:{color:"#fff"},secondary:{color:e.palette.primary.light,marginTop:"5px"},padding:{paddingTop:0,paddingBottom:0}}})),Oe=function(){var e=xe();return Object(O.jsx)(b.a,{className:e.card,children:Object(O.jsx)(m.a,{className:e.content,children:Object(O.jsx)(ee.a,{className:e.padding,children:Object(O.jsx)(te.b,{alignItems:"center",disableGutters:!0,className:e.padding,children:Object(O.jsx)(re.a,{className:e.padding,primary:Object(O.jsx)(h.a,{variant:"h4",className:e.primary,children:"Set"}),secondary:Object(O.jsx)(h.a,{variant:"subtitle2",className:e.secondary,children:"admin message"})})})})})})};t.default=function(){var e=Object($.g)(),t=function(t){var a="/".concat(t);e.push(a)},a=Object(r.useState)(!1),c=Object(n.a)(a,2),s=c[0],l=c[1],d=Object(r.useState)(!1),p=Object(n.a)(d,2),u=p[0],j=p[1],b=Object(r.useState)(""),m=Object(n.a)(b,2),h=m[0],x=m[1],g=Object(r.useState)(""),v=Object(n.a)(g,2),k=(v[0],v[1]),C=Object(r.useState)(""),w=Object(n.a)(C,2),N=(w[0],w[1]);return Object(O.jsxs)(i.a,{container:!0,spacing:o.b,children:[Object(O.jsx)(i.a,{item:!0,xs:12,md:3,onClick:function(){return t("patients")},style:{cursor:"pointer"},children:Object(O.jsx)(f,{})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:3,onClick:function(){return t("doctors")},style:{cursor:"pointer"},children:Object(O.jsx)(y,{})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:3,onClick:function(){return t("consultations")},style:{cursor:"pointer"},children:Object(O.jsx)(Z,{})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:3,children:Object(O.jsxs)(i.a,{container:!0,spacing:1.5,children:[Object(O.jsx)(i.a,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:function(){l(!0)},children:Object(O.jsx)(se,{consultationCosts:h})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:function(){j(!0)},children:Object(O.jsx)(Oe,{})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:12,onClick:function(){return t("payments")},style:{cursor:"pointer"},children:Object(O.jsx)(ue,{})})]})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:9,children:Object(O.jsx)(T,{})}),Object(O.jsx)(i.a,{item:!0,xs:12,md:3,children:Object(O.jsx)(X,{})}),Object(O.jsx)(me,{isModalOpen:s,handleModalClose:function(){l(!1)},onConsultationCostsChange:function(e){x(e)}}),Object(O.jsx)(he,{isModalOpen:u,handleModalClose:function(){j(!1)},onAdminMessageTitleChange:function(e){k(e)},onAdminMessageChange:function(e){N(e)}})]})}}}]);
//# sourceMappingURL=17.f3295ec1.chunk.js.map